{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","profileImg","descriptionBlock","avatar","postsBlock","posts","item","ProfileStatusWithHooks","props","_useState","useState","_useState2","Object","slicedToArray","editMode","setEditMode","_useState3","status","_useState4","setStatus","useEffect","react_default","a","createElement","Fragment","onDoubleClick","value","onChange","e","currentTarget","onBlur","updateStatus","autoFocus","ProfileInfo","_ref","profile","className","styles","alt","src","photos","large","userPhoto","ProfileInfo_ProfileStatusWithHooks","Preloader","Post","message","likesCount","maxLength10","maxLengthCreator","MyPosts","memo","postsElements","toConsumableArray","reverse","map","p","MyPosts_Post_Post","key","id","AddPostFormRedux","onSubmit","values","addPost","newPostText","reduxForm","form","handleSubmit","Field","name","component","Textarea","placeholder","validate","required","MyPostsContainer","connect","state","profilePage","dispatch","addPostActionCreator","Profile","Profile_ProfileInfo_ProfileInfo","MyPosts_MyPostsContainer","ProfileContainer","userId","this","match","params","authorisedUserId","history","push","getUserProfile","getStatus","components_Profile_Profile","assign","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/4.2027b828.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileImg\":\"ProfileInfo_profileImg__2ZcEy\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__P4HQj\",\"avatar\":\"ProfileInfo_avatar__kbO4G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__3KjAU\",\"posts\":\"MyPosts_posts__1-TuD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2TRBe\"};","import React, { useState, useEffect } from \"react\";\r\n\r\nconst ProfileStatusWithHooks = props => {\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [status, setStatus] = useState(props.status);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  };\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  const onStatusChange = e => {\r\n    setStatus(e.currentTarget.value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!editMode && (\r\n        <div>\r\n          <span onDoubleClick={activateEditMode}>\r\n            {props.status || \"-----\"}\r\n          </span>\r\n        </div>\r\n      )}\r\n      {editMode && (\r\n        <div>\r\n          <input\r\n            value={status}\r\n            onChange={onStatusChange}\r\n            onBlur={deactivateEditMode}\r\n            autoFocus={true}\r\n          />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React from \"react\";\r\nimport styles from \"./ProfileInfo.module.css\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport userPhoto from \"../../../assets/images/user.png\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus}) => {\r\n    if (!profile) {\r\n        return <Preloader/>;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={styles.descriptionBlock}>\r\n                <img\r\n                    alt=\"avatar\"\r\n                    className={styles.avatar}\r\n                    src={profile.photos.large || userPhoto}\r\n                />\r\n                <ProfileStatusWithHooks\r\n                    status={status}\r\n                    updateStatus={updateStatus}\r\n                />\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from 'react';\r\nimport styles from './Post.module.css';\r\n\r\nconst Post = props => {\r\n  //debugger;\r\n\r\n  return (\r\n    <div className={styles.item}>\r\n      <img\r\n        src='https://movies4maniacs.liberty.me/wp-content/uploads/sites/1218/2015/09/avatarsucks.jpg'\r\n        alt=''\r\n      />\r\n      {props.message}\r\n      <div>\r\n        <span>likes</span> {props.likesCount}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, { memo } from \"react\";\r\nimport styles from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { Textarea } from \"./../../common/FormControls/FormControls\";\r\nimport {\r\n  required,\r\n  maxLengthCreator\r\n} from \"./../../../utils/validators/validators\";\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst MyPosts = memo(props => {\r\n  const postsElements = [...props.posts]\r\n    .reverse()\r\n    .map(p => (\r\n      <Post key={p.id} message={p.message} likesCount={p.likesCount} />\r\n    ));\r\n\r\n  const addPost = values => {\r\n    props.addPost(values.newPostText);\r\n  };\r\n  return (\r\n    <div className={styles.postsBlock}>\r\n      <h3>My posts</h3>\r\n      <AddPostFormRedux onSubmit={addPost} />\r\n      <div className={styles.posts}>{postsElements}</div>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst AddPostForm = props => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          name=\"newPostText\"\r\n          component={Textarea}\r\n          placeholder=\"Enter new message...\"\r\n          validate={[required, maxLength10]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button>Add Post</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst AddPostFormRedux = reduxForm({ form: \"ProfileAddPostForm\" })(AddPostForm);\r\n\r\nexport default MyPosts;\r\n","import { addPostActionCreator } from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addPost: newPostText => {\r\n      dispatch(addPostActionCreator(newPostText));\r\n    }\r\n  };\r\n};\r\n\r\nconst MyPostsContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = props => {\r\n  return (\r\n    <div>\r\n      <ProfileInfo\r\n        profile={props.profile}\r\n        status={props.status}\r\n        updateStatus={props.updateStatus}\r\n      />\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { Component } from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {\r\n  getUserProfile,\r\n  getStatus,\r\n  updateStatus\r\n} from \"./../../redux/profile-reducer\";\r\nimport { compose } from \"redux\";\r\n\r\n// inside a functional component, the history can be obtained as follows:\r\n// import history from \"history/createBrowserHistory\";\r\n\r\nclass ProfileContainer extends Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorisedUserId;\r\n      if (!userId) {\r\n        this.props.history.push(\"/login\");\r\n      }\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Profile\r\n          {...this.props}\r\n          profile={this.props.profile}\r\n          status={this.props.status}\r\n          updateStatus={this.props.updateStatus}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorisedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(\r\n    mapStateToProps,\r\n    { getUserProfile, getStatus, updateStatus }\r\n  ),\r\n  withRouter\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}